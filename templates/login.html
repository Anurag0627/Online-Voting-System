{% extends "base.html" %}
{% block content %}

<style>
.auth-container {
    max-width: 420px;
    margin: 50px auto;
    background: #1e293b;
    padding: 35px;
    border-radius: 14px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.4);
    animation: fadeIn 0.8s ease;
}

.auth-container h2 {
    text-align: center;
    margin-bottom: 25px;
    color: #38bdf8;
}

.auth-input {
    width: 100%;
    padding: 12px;
    margin-top: 12px;
    background: #0f172a;
    border: 1px solid #334155;
    color: white;
    border-radius: 8px;
    transition: 0.25s;
}

.auth-input:focus {
    border-color: #38bdf8;
    box-shadow: 0 0 6px #38bdf8;
    outline: none;
}

.auth-btn {
    width: 100%;
    padding: 12px;
    background: #38bdf8;
    color: black;
    border: none;
    border-radius: 8px;
    margin-top: 18px;
    font-weight: bold;
    transition: 0.25s;
}

.auth-btn:hover {
    background: #0ea5e9;
    transform: scale(1.05);
}

.auth-link {
    text-align: center;
    margin-top: 15px;
}

.auth-link a {
    color: #38bdf8;
}
</style>



<div class="auth-container">
    <h2>üîê Login</h2>

    <input type="email" id="email" class="auth-input" placeholder="Enter Email">

    <input type="password" id="password" class="auth-input" placeholder="Enter Password">

    <button class="auth-btn" onclick="loginUser()">Login</button>

    <div class="auth-link">
        <p>Don't have an account? <a href="/register_page">Register Here</a></p>
    </div>
</div>



<script>
function loginUser() {
    const data = {
        email: document.getElementById("email").value,
        password: document.getElementById("password").value
    };

    fetch("/login", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(data)
    })
    .then(res => res.json())
    .then(resp => {
        if (resp.user_id) {
            localStorage.setItem("user_id", resp.user_id);
            alert("Login Successful!");
            window.location.href = "/";
        } else {
            alert(resp.error);
        }
    });
}
</script>

{% endblock %}
